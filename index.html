<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edge Sensitive Background</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
    }

    body {
      background-color: black;
      background-image: linear-gradient(white 1px, transparent 1px),
                        linear-gradient(90deg, white 1px, transparent 1px);
      background-size: 40px 40px;
      transition: background-color 0.1s linear, background-image 0.1s linear;
    }

    .cross {
      position: absolute;
      width: 40px;
      height: 40px;
      pointer-events: none;
      transform: translate(-50%, -50%);
    }

    .cross::before, .cross::after {
      content: '';
      position: absolute;
      background-color: white;
    }

    .cross::before {
      width: 2px;
      height: 100%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
    }

    .cross::after {
      height: 2px;
      width: 100%;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }
  </style>
</head>
<body>
  <div class="cross" id="cross"></div>

  <script>
    const cross = document.getElementById('cross');
    const body = document.body;

    let mouseX = 0, mouseY = 0;
    let posX = window.innerWidth / 2;
    let posY = window.innerHeight / 2;

    function updateBackgroundBasedOnEdgeProximity(x, y) {
      const w = window.innerWidth;
      const h = window.innerHeight;

      const distLeft = x;
      const distRight = w - x;
      const distTop = y;
      const distBottom = h - y;

      const minDistX = Math.min(distLeft, distRight);
      const minDistY = Math.min(distTop, distBottom);
      const edgeDist = Math.min(minDistX, minDistY);

      const maxEffectDist = Math.min(w, h) / 2;
      const proximity = 1 - Math.min(edgeDist / maxEffectDist, 1);
      const nonlinear = Math.pow(proximity, 1.8);  // Nonlinear intensity

      const brightness = Math.floor(nonlinear * 255);
      body.style.backgroundColor = `rgb(${brightness}, ${brightness}, ${brightness})`;

      const gridColor = 255 - brightness;
      body.style.backgroundImage = `
        linear-gradient(rgb(${gridColor}, ${gridColor}, ${gridColor}) 1px, transparent 1px),
        linear-gradient(90deg, rgb(${gridColor}, ${gridColor}, ${gridColor}) 1px, transparent 1px)
      `;
    }

    document.addEventListener("mousemove", (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;

      updateBackgroundBasedOnEdgeProximity(mouseX, mouseY);
    });

    function animate() {
      posX += (mouseX - posX) * 0.1;
      posY += (mouseY - posY) * 0.1;
      cross.style.left = posX + "px";
      cross.style.top = posY + "px";

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
